(function(e){function t(t){for(var n,s,l=t[0],o=t[1],c=t[2],m=0,p=[];m<l.length;m++)s=l[m],r[s]&&p.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[a("Header"),a("router-view")],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("nav",{staticClass:"nav"},[a("div",{staticClass:"nav-wrap"},[a("div",{staticClass:"nav__logo-wrap"},[a("div",{staticClass:"nav__logo logo"},[a("img",{attrs:{src:e.image,alt:""}})]),a("span",{staticClass:"nav__name"},[e._v("Template Engine")])]),a("ul",{staticClass:"nav__list"},[a("router-link",{attrs:{to:"/mix",tag:"li","active-class":"nav__link_active"}},[a("a",{staticClass:"nav__link",attrs:{href:"#"}},[e._v("Mixes")])]),a("router-link",{attrs:{to:"/",tag:"li",exact:"","active-class":"nav__link_active"}},[a("a",{staticClass:"nav__link",attrs:{href:"#"}},[e._v("Releases")])])],1)])])])},l=[],o={name:"Header",data:function(){return{image:a("cf05")}}},c=o,u=(a("8baf"),a("2877")),m=Object(u["a"])(c,s,l,!1,null,null,null),p=m.exports,d={name:"app",components:{Header:p}},f=d,v=(a("034f"),Object(u["a"])(f,r,i,!1,null,null,null)),b=v.exports,_=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{ref:"myForm",staticClass:"form-wrap",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"form__left-input-wrap"},[a("label",{staticClass:"label_simple",attrs:{for:"album_name"}},[e._v("Name of album")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.album_name,expression:"album_name"}],attrs:{type:"text",id:"album_name",name:"album_name"},domProps:{value:e.album_name},on:{input:function(t){t.target.composing||(e.album_name=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"artist_name"}},[e._v("Name of artist")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.artist_name,expression:"artist_name"}],attrs:{type:"text",id:"artist_name",name:"artist_name"},domProps:{value:e.artist_name},on:{input:function(t){t.target.composing||(e.artist_name=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"album_tracks"}},[e._v("How many tracks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.album_tracks,expression:"album_tracks"}],attrs:{type:"number",id:"album_tracks",name:"album_tracks"},domProps:{value:e.album_tracks},on:{input:function(t){t.target.composing||(e.album_tracks=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"date_rel"}},[e._v("Date of release")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.date_rel,expression:"date_rel"}],attrs:{type:"text",id:"date_rel",name:"date_rel"},domProps:{value:e.date_rel},on:{input:function(t){t.target.composing||(e.date_rel=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"type"}},[e._v("Type of release")]),a("div",{staticClass:"radio-wrap"},[a("label",{staticClass:"label_radio",attrs:{for:"ep"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"ep",id:"ep",checked:""},domProps:{checked:e._q(e.type,"ep")},on:{change:function(t){e.type="ep"}}}),e._v("\n\t\t\tEp\n\t\t\t")]),a("label",{staticClass:"label_radio",attrs:{for:"album"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"album",id:"album"},domProps:{checked:e._q(e.type,"album")},on:{change:function(t){e.type="album"}}}),e._v("\n\t\t\tAlbum\n\t\t\t")])])]),a("div",{staticClass:"form__image-window-wrap"},[a("label",{staticClass:"label_simple"},[e._v("Cover")]),a("div",{staticClass:"form__image-window",style:e.cover,attrs:{id:"image-form"}}),a("label",{staticClass:"btn-inputfile",attrs:{for:"inputfile"}},[e._v("select a file")]),a("input",{staticClass:"inputfile",attrs:{name:"cover",type:"file",id:"inputfile"},on:{change:e.sync}})]),a("button",{staticClass:"btn-submit",attrs:{type:"submit"}},[e._v("Сreate template")])])},x=[],g=(a("7f7f"),a("96cf"),a("3b8d")),y=a("d225"),k=a("b0b4"),w=a("bc3a"),C=a.n(w),A=function(){function e(){Object(y["a"])(this,e)}return Object(k["a"])(e,null,[{key:"sendInfo",value:function(e,t){return C.a.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e}).catch(function(e){return e})}}]),e}(),P=A,N={name:"Release",data:function(){return{album_name:"",artist_name:"",album_tracks:2,date_rel:"",cover:"",type:"ep",postUrlRequest:"/releases/create"}},metaInfo:{meta:[{name:"description",content:"This template engine for releases"}],title:"Template Engine",titleTemplate:"%s - Releases",htmlAttrs:{lang:"en",amp:!0}},methods:{toast:function(e){this.$toasted.show(e,{theme:"outline",position:"top-center",duration:3e3})},onSubmit:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.album_name){e.next=4;break}this.toast("Please enter album name"),e.next=32;break;case 4:if(this.artist_name){e.next=8;break}this.toast("Please enter artist name"),e.next=32;break;case 8:if(this.album_tracks){e.next=12;break}this.toast("Please enter the number of tracks"),e.next=32;break;case 12:if(this.date_rel){e.next=16;break}this.toast("Please enter release date"),e.next=32;break;case 16:if(this.file){e.next=20;break}this.toast("Please add a cover"),e.next=32;break;case 20:return t=new FormData,t.append("cover",this.file),t.append("album_name",this.album_name),t.append("artist_name",this.artist_name),t.append("album_tracks",this.album_tracks),t.append("date_rel",this.date_rel),t.append("type",this.type),e.next=29,P.sendInfo(t,this.postUrlRequest);case 29:a=e.sent,console.log(a),"success"===a.data&&Q.push("result");case 32:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),selectImage:function(e){this.file=e;var t=new FileReader;t.onload=this.onImageLoad,t.readAsDataURL(e)},sync:function(e){e.preventDefault(),this.selectImage(e.target.files[0])},onImageLoad:function(e){this.content=e.target.result;var t=this.file instanceof File?this.file.name:"";this.$emit("input",t),this.cover='background-image: url("'.concat(this.content,'")'),this.$emit("image-changed",this.content)}},computed:{src:function(){return this.content?this.content:this.isEmpty?"":this.srcPrefix+this.value}}},R=N,O=Object(u["a"])(R,h,x,!1,null,null,null),j=O.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image-wrap"},[a("label",{staticClass:"label_simple"},[e._v("Result:")]),a("img",{attrs:{alt:"result cart"}}),a("button",{staticClass:"btn-downloadFile",on:{click:e.forceFileDownload}},[e._v("Download this cover")]),a("router-link",{staticClass:"link-btn",attrs:{to:"/"}},[e._v("Return to the home page")])],1)},U=[],E={name:"Result",data:function(){return{loading:!1,error:null,coverImage:"",getUrl:"/result",resultCover:{},base64data:""}},metaInfo:{title:"Template Engine",titleTemplate:"%s - Result",htmlAttrs:{lang:"en",amp:!0}},methods:{forceFileDownload:function(){var e=window.URL.createObjectURL(new Blob([this.resultCover.data])),t=document.createElement("a");t.href=e,t.setAttribute("download","cover.jpg"),document.body.appendChild(t),this.coverImage=t,t.click()}},mounted:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C()({method:"get",url:this.getUrl,responseType:"arraybuffer"}).then(function(e){n.resultCover=e}).catch(function(){return console.log("error occured")});case 2:t=new Blob([this.resultCover.data]),a=new FileReader,a.readAsDataURL(t),a.onloadend=function(){this.base64data=a.result,console.log(base64data)};case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},D=E,S=(a("d7c3"),Object(u["a"])(D,T,U,!1,null,null,null)),I=S.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form-wrap",attrs:{enctype:"multipart/form-data",method:"POST",action:"/result"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"form__left-input-wrap"},[a("label",{staticClass:"label_simple",attrs:{for:"mix_name"}},[e._v("Name of mix")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mix_name,expression:"mix_name"}],attrs:{type:"text",id:"mix_name",name:"mix_name"},domProps:{value:e.mix_name},on:{input:function(t){t.target.composing||(e.mix_name=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"mix_duration"}},[e._v("Mix duration")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mix_duration,expression:"mix_duration"}],attrs:{type:"text",id:"mix_duration",name:"mix_duration"},domProps:{value:e.mix_duration},on:{input:function(t){t.target.composing||(e.mix_duration=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"mix_tracks"}},[e._v("How many tracks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mix_tracks,expression:"mix_tracks"}],attrs:{type:"number",id:"mix_tracks",name:"mix_tracks"},domProps:{value:e.mix_tracks},on:{input:function(t){t.target.composing||(e.mix_tracks=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"date_rel"}},[e._v("Date of release")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.date_rel,expression:"date_rel"}],attrs:{type:"text",id:"date_rel",name:"date_rel"},domProps:{value:e.date_rel},on:{input:function(t){t.target.composing||(e.date_rel=t.target.value)}}}),a("label",{staticClass:"label_simple",attrs:{for:"type"}},[e._v("Type of release")]),a("div",{staticClass:"radio-wrap"},[a("label",{staticClass:"label_radio",attrs:{for:"yourtracklist"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.publicName,expression:"publicName"}],attrs:{type:"radio",name:"public",value:"yourtracklist",id:"yourtracklist",checked:""},domProps:{checked:e._q(e.publicName,"yourtracklist")},on:{change:function(t){e.publicName="yourtracklist"}}}),e._v("yourtracklist")]),a("label",{staticClass:"label_radio",attrs:{for:"lost2432615184"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.publicName,expression:"publicName"}],attrs:{type:"radio",name:"public",value:"lost2432615184",id:"lost2432615184"},domProps:{checked:e._q(e.publicName,"lost2432615184")},on:{change:function(t){e.publicName="lost2432615184"}}}),e._v("lost2432615184")])])]),a("div",{staticClass:"form__image-window-wrap"},[a("label",{staticClass:"label_simple"},[e._v("Cover")]),a("div",{staticClass:"form__image-window",style:e.cover,attrs:{id:"image-form"}}),a("label",{staticClass:"btn-inputfile",attrs:{for:"inputfile"}},[e._v("select a file")]),a("input",{staticClass:"inputfile",attrs:{name:"cover",type:"file",id:"inputfile"},on:{change:e.sync}})]),a("button",{staticClass:"btn-submit",attrs:{type:"submit"}},[e._v("Сreate template")])])},q=[],Y={name:"Mix",data:function(){return{mix_name:"",mix_duration:"",mix_tracks:2,date_rel:"",cover:"",publicName:"yourtracklist",postUrlRequest:"http://localhost:5000/mix/create"}},metaInfo:{meta:[{name:"description",content:"This template engine for mixis"}],title:"Template Engine",titleTemplate:"%s - Mix",htmlAttrs:{lang:"en",amp:!0}},methods:{toast:function(e){this.$toasted.show(e,{theme:"outline",position:"top-center",duration:3e3})},onSubmit:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.mix_name){e.next=4;break}this.toast("Please enter mix name"),e.next=30;break;case 4:if(this.mix_duration){e.next=8;break}this.toast("Please enter mix duration"),e.next=30;break;case 8:if(this.mix_tracks){e.next=12;break}this.toast("Please enter the number of tracks"),e.next=30;break;case 12:if(this.date_rel){e.next=16;break}this.toast("Please enter release date"),e.next=30;break;case 16:if(this.file){e.next=20;break}this.toast("Please add a cover"),e.next=30;break;case 20:return t=new FormData,t.append("cover",this.file),t.append("mix_name",this.mix_name),t.append("mix_duration",this.mix_duration),t.append("mix_tracks",this.mix_tracks),t.append("date_rel",this.date_rel),t.append("public_name",this.publicName),e.next=29,P.sendInfo(t,this.postUrlRequest);case 29:Q.push("result");case 30:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),selectImage:function(e){this.file=e;var t=new FileReader;t.onload=this.onImageLoad,t.readAsDataURL(e)},sync:function(e){e.preventDefault(),this.selectImage(e.target.files[0])},onImageLoad:function(e){this.content=e.target.result;var t=this.file instanceof File?this.file.name:"";this.$emit("input",t),this.cover='background-image: url("'.concat(this.content,'")'),this.$emit("image-changed",this.content)}},computed:{src:function(){return this.content?this.content:this.isEmpty?"":this.srcPrefix+this.value}}},L=Y,G=Object(u["a"])(L,F,q,!1,null,null,null),M=G.exports;n["a"].use(_["a"]);var Q=new _["a"]({mode:"history",routes:[{path:"/",name:"realese",component:j},{path:"/result",name:"result",component:I},{path:"/mix",name:"mix",component:M}]}),B=a("a65d"),J=a.n(B),H=a("58ca");window.axios=C.a,n["a"].use(H["a"]),n["a"].config.productionTip=!1,n["a"].use(J.a,{inconPack:"fontawesome"}),new n["a"]({router:Q,render:function(e){return e(b)}}).$mount("#app")},"64a9":function(e,t,a){},"782e":function(e,t,a){},"8baf":function(e,t,a){"use strict";var n=a("782e"),r=a.n(n);r.a},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAnCAMAAAChQUGJAAAAAXNSR0IB2cksfwAAAY9QTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////ie7xUAAAAIV0Uk5TADn2x1MCef/aTn38MrD+KwompDi5RCLIzVgDmN5s+BoB0+yBFYxaXPMS3bOAZ1UuPe0MB+bY0V0FdHNgjeJx5wjgE/TvhhhpaponBA3u/a91xNWg11F3y9/1O0XqvmgPUvoJsqNGnCnAhxk6cja0uy+8R0Go+6YxpZEgTdA1riWbe4U8cO5ghX8AAAGxSURBVHicldNXU8JQEAXgK6hLUcSuqAHFgl2wYAcBQUEEe++9997LD3cTYslNQuI+JGfPfJOBzA1J0WhT04i6SQcAnV6dNaAFY4Z6C5n/sKYsjOZsVRZyMOZCXr4aayzAXAhQVGxRtFCCWc+G0jKzkmWshNjKuVhhr0xuoQqXaj5rapJbRy0hljp+qU9uoQG3Rj43YW5ukbdOFyGtbVxsxxNi1UCHu1PGQheu3VzqwdTLhr5+l7T1eAlxOTEM4ON8/kQZGAxKWQjh3oD3Ibzbf1pmOCxhSyOE1Dq4549E//SjsRSRBTcWVRDHaxyEM6a3UXYci+AE/h2vB+iZDAstTPG/LCSiANOUnUnQyKyYzs1TFhY46xbJRYOP0HaJpbZxSuqWvaL3gLOC3ZSw0q6mid8vzto6djN/CtPG7xGi7CZWW78rs70jfR6A/553v7fA3r7cOcOJYXPA577DEdnzy84RNsdc6qiJ0EddaE+wOGXD2bkI0vYCi0u4ur6RkkKrZYvbu3tpKbQPckhsH22qreNJgf5Y0/OLEuUt8xpWlIS8oYy+B5Uhzoe/7tOlzNj5AtQyP4Tw8+1TAAAAAElFTkSuQmCC"},d7c3:function(e,t,a){"use strict";var n=a("fe61"),r=a.n(n);r.a},fe61:function(e,t,a){}});
//# sourceMappingURL=app.9f356ced.js.map